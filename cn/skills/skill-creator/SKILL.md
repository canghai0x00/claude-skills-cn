---
name: skill-creator
description: 创建有效技能的指南。当用户想要创建新技能（或更新现有技能）来通过专业知识、工作流程或工具集成扩展Claude的能力时，应使用此技能。
license: 完整条款见LICENSE.txt
---

# 技能创建指南

本技能提供了创建有效技能的指导。

## 关于技能

技能是模块化、自包含的软件包，通过提供专业知识、工作流程和工具来扩展 Claude 的能力。可以把它们看作特定领域或任务的"入职指南"——它们将 Claude 从通用智能体转变为配备了任何模型都无法完全掌握的程序性知识的专业智能体。

### 技能提供什么

1. 专业工作流程 - 特定领域的多步骤程序
2. 工具集成 - 使用特定文件格式或 API 的说明
3. 领域专业知识 - 公司特定知识、模式、业务逻辑
4. 捆绑资源 - 用于复杂和重复任务的脚本、参考资料和素材

## 核心原则

### 简洁至关重要

上下文窗口是一种公共资源。技能与 Claude 需要的其他内容共享上下文窗口：系统提示、对话历史、其他技能的元数据和实际用户请求。

**默认假设：Claude 已经非常智能。**只添加 Claude 不具备的上下文。质疑每条信息："Claude 真的需要这个解释吗？"以及"这段内容的 token 成本是否合理？"

优先使用简洁的示例而不是冗长的解释。

### 设置适当的自由度

根据任务的脆弱性和可变性匹配特定性级别：

**高自由度（基于文本的说明）**：在多种方法都有效、决策取决于上下文或启发式指导方法时使用。

**中等自由度（带参数的伪代码或脚本）**：在存在首选模式、可接受某些变化或配置影响行为时使用。

**低自由度（特定脚本，很少的参数）**：在操作脆弱且容易出错、一致性至关重要或必须遵循特定顺序时使用。

可以把 Claude 看作在探索一条路径：有悬崖的窄桥需要特定的护栏（低自由度），而开阔的田野允许多种路线（高自由度）。

### 技能的结构

每个技能都由必需的 SKILL.md 文件和可选的捆绑资源组成：

```
skill-name/
├── SKILL.md (必需)
│   ├── YAML前置元数据 (必需)
│   │   ├── name: (必需)
│   │   └── description: (必需)
│   └── Markdown说明 (必需)
└── 捆绑资源 (可选)
    ├── scripts/          - 可执行代码 (Python/Bash等)
    ├── references/       - 需要时加载到上下文中的文档
    └── assets/           - 输出中使用的文件 (模板、图标、字体等)
```

#### SKILL.md（必需）

每个 SKILL.md 由以下部分组成：

- **前置内容**（YAML）：包含`name`和`description`字段。这些是 Claude 用来确定何时使用技能的唯一字段，因此在描述技能是什么以及何时应该使用它时清晰全面非常重要。
- **正文**（Markdown）：使用技能的说明和指导。仅在技能触发后加载（如果有的话）。

#### 捆绑资源（可选）

##### 脚本（`scripts/`）

需要确定性可靠性或重复编写的任务的可执行代码（Python/Bash 等）。

- **何时包含**：当相同的代码被重复编写或需要确定性可靠性时
- **示例**：`scripts/rotate_pdf.py`用于 PDF 旋转任务
- **优势**：token 效率高，确定性，可在不加载到上下文的情况下执行
- **注意**：Claude 可能仍需阅读脚本进行修补或特定环境调整

##### 参考资料（`references/`）

旨在根据需要加载到上下文中以告知 Claude 的过程和思考的文档和参考材料。

- **何时包含**：对于 Claude 在工作时应参考的文档
- **示例**：`references/finance.md`用于财务模式，`references/mnda.md`用于公司 NDA 模板，`references/policies.md`用于公司政策，`references/api_docs.md`用于 API 规范
- **用例**：数据库模式、API 文档、领域知识、公司政策、详细工作流程指南
- **优势**：保持 SKILL.md 精简，仅在 Claude 确定需要时加载
- **最佳实践**：如果文件较大（>10k 字），在 SKILL.md 中包含 grep 搜索模式
- **避免重复**：信息应该存在于 SKILL.md 或参考文件中，而不是两者都有。除非信息真正核心于技能，否则首选参考文件以保持 SKILL.md 精简，同时使信息可发现而不占用上下文窗口。在 SKILL.md 中只保留基本的程序说明和工作流程指导；将详细参考材料、模式和示例移至参考文件。

##### 素材（`assets/`）

不打算加载到上下文中，而是用于 Claude 生成的输出中的文件。

- **何时包含**：当技能需要在最终输出中使用的文件时
- **示例**：`assets/logo.png`用于品牌素材，`assets/slides.pptx`用于 PowerPoint 模板，`assets/frontend-template/`用于 HTML/React 样板代码，`assets/font.ttf`用于版式
- **用例**：模板、图像、图标、样板代码、字体、复制或修改的样例文档
- **优势**：将输出资源与文档分离，使 Claude 能够使用文件而不将其加载到上下文中

#### 不应包含在技能中的内容

技能应该只包含直接支持其功能的基本文件。不要创建多余的文档或辅助文件，包括：

- README.md
- INSTALLATION_GUIDE.md
- QUICK_REFERENCE.md
- CHANGELOG.md
- 等等

技能应该只包含 AI 代理完成工作所需的信息。它不应包含关于创建过程的辅助上下文、设置和测试程序、面向用户的文档等。创建额外的文档文件只会增加混乱和困惑。

### 渐进式披露设计原则

技能使用三级加载系统来有效管理上下文：

1. **元数据（名称+描述）** - 始终在上下文中（~100 字）
2. **SKILL.md 正文** - 技能触发时（<5k 字）
3. **捆绑资源** - 根据 Claude 需要（无限制，因为脚本可以在不读入上下文窗口的情况下执行）

#### 渐进式披露模式

保持 SKILL.md 正文精简，不超过 500 行，以最小化上下文膨胀。接近此限制时，将内容拆分为单独的文件。将内容拆分到其他文件时，务必在 SKILL.md 中引用它们并清楚描述何时阅读它们，以确保技能的读者知道它们的存在和使用时机。

**关键原则：**当技能支持多种变体、框架或选项时，在 SKILL.md 中只保留核心工作流程和选择指导。将特定于变体的详细信息（模式、示例、配置）移至单独的参考文件中。

**模式 1：带参考的高级指南**

```markdown
# PDF 处理

## 快速开始

使用 pdfplumber 提取文本：
[代码示例]

## 高级功能

- **表单填写**：完整指南见[FORMS.md](FORMS.md)
- **API 参考**：所有方法见[REFERENCE.md](REFERENCE.md)
- **示例**：常见模式见[EXAMPLES.md](EXAMPLES.md)
```

Claude 仅在需要时加载 FORMS.md、REFERENCE.md 或 EXAMPLES.md。

**模式 2：特定领域组织**

对于具有多个领域的技能，按领域组织内容以避免加载不相关的上下文：

```
bigquery-skill/
├── SKILL.md (概述和导航)
└── reference/
    ├── finance.md (收入、计费指标)
    ├── sales.md (机会、渠道)
    ├── product.md (API使用、功能)
    └── marketing.md (活动、归因)
```

当用户询问销售指标时，Claude 只读取 sales.md。

类似地，对于支持多种框架或变体的技能，按变体组织：

```
cloud-deploy/
├── SKILL.md (工作流程+提供商选择)
└── references/
    ├── aws.md (AWS部署模式)
    ├── gcp.md (GCP部署模式)
    └── azure.md (Azure部署模式)
```

当用户选择 AWS 时，Claude 只读取 aws.md。

**模式 3：条件详情**

显示基本内容，链接到高级内容：

```markdown
# DOCX 处理

## 创建文档

使用 docx-js 创建新文档。见[DOCX-JS.md](DOCX-JS.md)。

## 编辑文档

对于简单编辑，直接修改 XML。

**对于修订痕迹**：见[REDLINING.md](REDLINING.md)
**对于 OOXML 详情**：见[OOXML.md](OOXML.md)
```

Claude 仅在用户需要这些功能时才读取 REDLINING.md 或 OOXML.md。

**重要指南：**

- **避免深层嵌套引用** - 保持参考文件在 SKILL.md 的一级深度。所有参考文件应直接从 SKILL.md 链接。
- **结构化较长的参考文件** - 对于超过 100 行的文件，在顶部包含目录，使 Claude 在预览时能够看到完整范围。

## 技能创建流程

技能创建包括以下步骤：

1. 通过具体示例了解技能
2. 规划可重用的技能内容（脚本、参考资料、素材）
3. 初始化技能（运行 init_skill.py）
4. 编辑技能（实现资源并编写 SKILL.md）
5. 打包技能（运行 package_skill.py）
6. 基于实际使用情况迭代

按顺序执行这些步骤，只有在有明确理由表明它们不适用的情况下才跳过。

### 步骤 1：通过具体示例了解技能

仅当已明确了解技能的使用模式时才跳过此步骤。即使在使用现有技能时，此步骤仍然有价值。

要创建有效的技能，需清楚了解技能将如何使用的具体示例。这种理解可以来自直接的用户示例或通过用户反馈验证的生成示例。

例如，在构建图像编辑器技能时，相关问题包括：

- "图像编辑器技能应支持哪些功能？编辑、旋转还是其他？"
- "您能举些这个技能如何使用的例子吗？"
- "我可以想象用户会要求'移除这张图像中的红眼'或'旋转这张图像'。您设想这个技能还有其他使用方式吗？"
- "用户会说什么来触发这个技能？"

为避免让用户不堪重负，避免在一条消息中提出太多问题。从最重要的问题开始，并根据需要跟进以提高效率。

当对技能应支持的功能有清晰的认识时，即完成此步骤。

### 步骤 2：规划可重用的技能内容

要将具体示例转化为有效技能，通过以下方式分析每个示例：

1. 考虑如何从头开始执行示例
2. 确定在重复执行这些工作流程时有用的脚本、参考资料和素材

示例：构建`pdf-editor`技能以处理"帮我旋转这个 PDF"等查询时，分析显示：

1. 旋转 PDF 每次都需要重写相同的代码
2. 在技能中存储`scripts/rotate_pdf.py`脚本会很有帮助

示例：设计`frontend-webapp-builder`技能以处理"为我构建一个待办事项应用"或"为我构建一个跟踪我步数的仪表板"等查询时，分析显示：

1. 编写前端网页应用每次都需要相同的 HTML/React 样板
2. 在技能中存储包含样板 HTML/React 项目文件的`assets/hello-world/`模板会很有帮助

示例：构建`big-query`技能以处理"今天有多少用户登录？"等查询时，分析显示：

1. 查询 BigQuery 每次都需要重新发现表模式和关系
2. A 在技能中存储记录表模式的`references/schema.md`文件会很有帮助

要确定技能的内容，分析每个具体示例以创建要包含的可重用资源列表：脚本、参考资料和素材。

### 步骤 3：初始化技能

此时，可以实际创建技能。

仅当要开发的技能已经存在，并且需要迭代或打包时，才跳过此步骤。在这种情况下，继续下一步。

从头创建新技能时，总是运行`init_skill.py`脚本。该脚本方便地生成一个新的模板技能目录，自动包含技能所需的一切，使技能创建过程更加高效和可靠。

用法：

```bash
scripts/init_skill.py <skill-name> --path <output-directory>
```

该脚本：

- 在指定路径创建技能目录
- 生成带有适当前置内容和待办占位符的 SKILL.md 模板
- 创建示例资源目录：`scripts/`、`references/`和`assets/`
- 在每个目录中添加可自定义或删除的示例文件

初始化后，根据需要自定义或删除生成的 SKILL.md 和示例文件。

### 步骤 4：编辑技能

在编辑（新生成或现有的）技能时，请记住技能是为另一个 Claude 实例使用而创建的。包含对 Claude 有益且不明显的信息。考虑什么程序性知识、领域特定细节或可重用素材会帮助另一个 Claude 实例更有效地执行这些任务。

#### 学习已证实的设计模式

根据技能需求咨询有用的指南：

- **多步骤过程**：参见 references/workflows.md 了解顺序工作流程和条件逻辑
- **特定输出格式或质量标准**：参见 references/output-patterns.md 了解模板和示例模式

这些文件包含有效技能设计的既定最佳实践。

#### 从可重用技能内容开始

开始实施时，先从上面确定的可重用资源开始：`scripts/`、`references/`和`assets/`文件。请注意，此步骤可能需要用户输入。例如，实施`brand-guidelines`技能时，用户可能需要提供要存储在`assets/`中的品牌素材或模板，或存储在`references/`中的文档。

添加的脚本必须通过实际运行测试，确保没有错误且输出符合预期。如果有许多相似的脚本，只需测试有代表性的样本，以确保对它们的工作有信心，同时平衡完成时间。

应删除技能不需要的任何示例文件和目录。初始化脚本在`scripts/`、`references/`和`assets/`中创建示例文件以演示结构，但大多数技能不需要全部使用。

#### 更新 SKILL.md

**写作指南：**始终使用祈使/不定式形式。

##### 前置内容

编写带有`name`和`description`的 YAML 前置内容：

- `name`：技能名称
- `description`：这是技能的主要触发机制，帮助 Claude 了解何时使用该技能。
  - 既包括技能做什么，也包括使用它的特定触发器/上下文。
  - 在此处包含所有"何时使用"信息 - 而不是在正文中。正文仅在触发后加载，因此正文中的"何时使用此技能"部分对 Claude 没有帮助。
  - `docx`技能的示例描述："全面的文档创建、编辑和分析，支持修订痕迹、评论、格式保留和文本提取。当 Claude 需要处理专业文档（.docx 文件）进行：(1)创建新文档，(2)修改或编辑内容，(3)处理修订痕迹，(4)添加评论，或任何其他文档任务时使用"

不要在 YAML 前置内容中包含其他字段。

##### 正文

编写使用技能及其捆绑资源的说明。

### 步骤 5：打包技能

一旦技能开发完成，必须将其打包成可分发的.skill 文件，与用户共享。打包过程首先自动验证技能，确保其满足所有要求：

```bash
scripts/package_skill.py <path/to/skill-folder>
```

可选的输出目录指定：

```bash
scripts/package_skill.py <path/to/skill-folder> ./dist
```

打包脚本将：

1. **验证**技能，自动检查：

   - YAML 前置内容格式和必填字段
   - 技能命名约定和目录结构
   - 描述的完整性和质量
   - 文件组织和资源引用

2. **打包**通过验证的技能，创建以技能命名的.skill 文件（例如，`my-skill.skill`），包括所有文件并维持适当的目录结构以供分发。.skill 文件是带有.skill 扩展名的 zip 文件。

如果验证失败，脚本将报告错误并退出，不创建包。修复任何验证错误并再次运行打包命令。

### 步骤 6：迭代

测试技能后，用户可能要求改进。这通常发生在刚使用技能之后，有关技能表现的新鲜上下文。

**迭代工作流程：**

1. 在实际任务中使用技能
2. 注意困难或低效问题
3. 确定应如何更新 SKILL.md 或捆绑资源
4. 实施更改并再次测试
